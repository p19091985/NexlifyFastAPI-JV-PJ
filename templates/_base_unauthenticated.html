{% set theme_mode = 'dark' if settings.theme in ['darkly', 'slate', 'solar', 'superhero', 'vapor', 'cyborg'] else 'light' %}
{% macro px_to_rem(px_value, default_rem='0.375rem', base_font=16) %}
    {% if px_value is defined and px_value is number %}
        {{ (px_value | float / base_font) | round(3) }}rem
    {% else %}
        {{ default_rem }}
    {% endif %}
{% endmacro %}
{% macro hex_to_rgb_str(hex_color, default_rgb='0,0,0') %}
    {% set h = hex_color | replace('#', '') %}
    {% if h and h | length == 6 %}
        {{ h[0:2] | int(base=16) }},{{ h[2:4] | int(base=16) }},{{ h[4:6] | int(base=16) }}
    {% elif h and h | length == 3 %}
        {{ (h[0]*2) | int(base=16) }},{{ (h[1]*2) | int(base=16) }},{{ (h[2]*2) | int(base=16) }}
    {% else %}
        {{ default_rgb }}
    {% endif %}
{% endmacro %}
{% set border_radius_rem = px_to_rem(settings.border_radius, default_rem='0.375rem') %}
{% set border_width_px = (settings.border_width | string) + 'px' if settings.border_width is defined and settings.border_width is number else '1px' %}
{% set font_size_rem = px_to_rem(settings.font_size, default_rem='1rem') %}
{% set primary_rgb_val = hex_to_rgb_str(settings.custom_colors.primary, default_rgb='13,110,253') %}
<!doctype html>
<html lang="pt-br" data-bs-theme="{{ theme_mode }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Nexlify{% endblock %}</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    {% include "_theme_style.html" %}
    {% block head_extra %}{% endblock %} 
</head>
<body class="d-flex align-items-center justify-content-center vh-100">
    {% block content %}{% endblock %} 
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>